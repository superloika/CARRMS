{"version":3,"sources":["webpack:///resources/js/pages/Admin/Enrollment/Add.vue","webpack:///./resources/js/pages/Admin/Enrollment/Add.vue?798c","webpack:///./resources/js/pages/Admin/Enrollment/Add.vue","webpack:///./resources/js/pages/Admin/Enrollment/Add.vue?cde8","webpack:///./resources/js/pages/Admin/Enrollment/Add.vue?1fc5"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4GA;AACA,MADA,kBACA;AACA;AACA,2BADA;AAEA,uBAFA;AAGA,uBAHA;AAIA;AAJA;AAMA,GARA;AAUA;AACA,YADA,sBACA;AAAA;;AACA;AACA;AACA,OAFA;AAGA,KALA;AAMA,SANA,mBAMA;AACA;AACA,KARA;AASA,YATA,sBASA;AACA;AACA;AAXA,GAVA;AAwBA;AACA,SADA,mBACA;AACA;AACA;AACA;AAJA,GAxBA;AA+BA;AACA,yBADA,mCACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAHA;AAAA,uBAIA,qBACA,6BADA,6CAEA;AACA;AACA,+DADA;AAEA,iEAFA;AAGA,yDAHA;AAIA;AAJA,mBADA;AAOA;AACA;AACA,mBAFA;AAPA,iBAFA,EAaA,IAbA,CAaA;AACA;;AACA,qGAFA,CAGA;;;AAAA;AACA;AACA,iBAlBA,WAkBA;AACA;AACA;AACA;AACA,iBAtBA,CAJA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA4BA,KA7BA;AA8BA,wBA9BA,gCA8BA,OA9BA,EA8BA;AACA;AACA;AACA;AACA;AAlCA,GA/BA;AAoEA,SApEA,qBAoEA,CACA;AArEA,G;;;;;;;;;;;;AC5GA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,6CAA6C;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,mBAAmB;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,sBAAsB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS,aAAa,EAAE;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,yBAAyB,kCAAkC;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS,sBAAsB,EAAE;AAClD;AACA;AACA;AACA,qBAAqB,iBAAiB;AACtC;AACA;AACA;AACA,yBAAyB,SAAS,iBAAiB,EAAE;AACrD;AACA;AACA,0CAA0C,uBAAuB;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,2BAA2B;AAC5D,iCAAiC,yCAAyC;AAC1E,iCAAiC,2CAA2C;AAC5E,iCAAiC,uCAAuC;AACxE,iCAAiC;AACjC;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS,sBAAsB,EAAE;AAClD;AACA;AACA;AACA,qBAAqB,iBAAiB;AACtC;AACA;AACA;AACA,yBAAyB,SAAS,iBAAiB,EAAE;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,SAAS,sBAAsB,EAAE;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACtRA;AAAA;AAAA;AAAA;AAAkF;AAC3B;AACL;;;AAGlD;AACmG;AACnG,gBAAgB,2GAAU;AAC1B,EAAE,yEAAM;AACR,EAAE,8EAAM;AACR,EAAE,uFAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACtCf;AAAA;AAAA,wCAA+L,CAAgB,+OAAG,EAAC,C;;;;;;;;;;;;ACAnN;AAAA;AAAA;AAAA;AAAA;AAAA","file":"8.js","sourcesContent":["<template>\n    <div>\n        <v-app-bar>\n            <v-toolbar-title class=\"text-overline primary--text\">\n                Add New Enrollment Data\n            </v-toolbar-title>\n            <v-spacer></v-spacer>\n            <v-btn dense iconx text color=\"primary\"\n                :disabled=\"!selectedToAdd.length || selectedSection==null\"\n                @click=\"saveStudentEnrollment\"\n            >\n                <v-icon>mdi-floppy</v-icon> Save\n            </v-btn>\n        </v-app-bar>\n\n        <v-container class=\"pt-6\">\n            <v-row>\n                <v-col cols=\"12\">\n                    <v-select outlined densex filledx label=\"Grade & Section\"\n                        v-model=\"selectedSection\"\n                        :items=\"sections\"\n                        item-value=\"id\"\n                        return-object\n                        hint=\"Only the sections with a class adviser are selectable\"\n                        persistent-hint\n                        v-on:input=\"onChangeGradeSection\"\n                    >\n                        <template slot=\"item\" slot-scope=\"data\">\n                            {{ data.item.grade }} - {{ data.item.section }}\n                        </template>\n                        <template slot=\"selection\" slot-scope=\"data\">\n                            {{ data.item.grade }} - {{ data.item.section }}\n                        </template>\n                    </v-select>\n                </v-col>\n\n\n                <!-- SELECT STUDENTS -->\n                <v-col cols=\"12\" md=\"9\">\n                    <v-card :key=\"level\">\n                        <v-toolbar elevation=\"0\">\n                            <v-text-field\n                                hide-details dense flat solo-inverted rounded\n                                placeholder=\"Search student(s) here\"\n                                v-model=\"tblLeftSearch\"\n                                style=\"max-width:250px;\"\n                            >\n                            </v-text-field>\n                        </v-toolbar>\n                        <v-card-text>\n                            <v-data-table\n                                :headers=\"[\n                                    {text:'SID',value:'id'},\n                                    {text:'First Name',value:'firstname'},\n                                    {text:'Middle Name',value:'middlename'},\n                                    {text:'Last Name',value:'lastname'},\n                                    {text:'Ext. Name',value:'extname'},\n                                ]\"\n                                :items=\"students\"\n                                v-model=\"selectedToAdd\"\n                                :search=\"tblLeftSearch\"\n                                show-select\n                            >\n                                <template v-slot:[`item.name`]=\"{item}\">\n                                    {{ item.firstname }} {{ item.middlename }} {{ item.lastname }}\n                                </template>\n                            </v-data-table>\n                        </v-card-text>\n                    </v-card>\n                </v-col>\n\n                <!-- SELECTED STUDENTS -->\n                <v-col cols=\"12\" md=\"3\">\n                    <v-card :key=\"level\">\n                        <v-toolbar elevation=\"0\">\n                            <v-toolbar-title>\n                                Selected Students\n                            </v-toolbar-title>\n                            <v-spacer></v-spacer>\n                        </v-toolbar>\n                        <v-card-text>\n                            <v-data-table\n                                :headers=\"[\n                                    {text:'Student Name',value:'name'},\n                                ]\"\n                                :items=\"selectedToAdd\"\n                                :items-per-page=\"-1\"\n                                :search=\"tblRightSearch\"\n                                hide-default-footer\n                            >\n                                <template v-slot:[`item.name`]=\"{item}\">\n                                    {{ item.firstname }} {{ item.middlename }} {{ item.lastname }}\n                                </template>\n                            </v-data-table>\n                        </v-card-text>\n                    </v-card>\n                </v-col>\n\n                <v-col cols=\"12\" md=\"6\">\n\n                </v-col>\n            </v-row>\n        </v-container>\n    </div>\n</template>\n\n<script>\n\nexport default {\n    data() {\n        return {\n            selectedSection: null,\n            selectedToAdd: [],\n            tblLeftSearch: '',\n            tblRightSearch: '',\n        };\n    },\n\n    computed: {\n        sections() {\n            return this.AdminSectionsStore.state.sections.filter(e=>{\n                return e.adviser_id != null && e.level==this.level;\n            });\n        },\n        level() {\n            return this.$route.meta.level;\n        },\n        students() {\n            return this.AdminEnrollmentStore.state.studentsForEnrollment;\n        }\n    },\n\n    watch: {\n        level() {\n            this.selectedSection=null;\n            this.selectedToAdd=[];\n        }\n    },\n\n    methods: {\n        async saveStudentEnrollment() {\n            console.log(this.selectedSection);\n            console.log(this.selectedToAdd);\n            console.log(this.AdminSYStore.state.activeSY);\n            await axios.post(\n                `${this.AppStore.state.siteUrl}admin/enrollment/saveStudentEnrollment`,\n                {\n                    head: {\n                        sy_id: this.AdminSYStore.state.activeSYid,\n                        adviser_id: this.selectedSection.adviser_id,\n                        section_id: this.selectedSection.id,\n                        grade: this.selectedSection.grade,\n                    },\n                    line: this.selectedToAdd.map(e=>{\n                        return e.id\n                    })\n                }\n            ).then(e=>{\n                this.AppStore.toast(e.data,2000,'success');\n                this.AdminEnrollmentStore.getStudentsForEnrollment(this.selectedSection.grade);\n                // this.selectedToAdd = [];\n                this.AdminSectionsStore.getSections();\n            }).catch(e=>{\n                if(e.response) {\n                    this.AppStore.toast(e.response.data,3000,'error');\n                }\n            })\n            ;\n        },\n        onChangeGradeSection(section) {\n            console.log(section);\n            this.selectedToAdd = [];\n            this.AdminEnrollmentStore.getStudentsForEnrollment(section.grade);\n        }\n    },\n\n    created() {\n    }\n};\n</script>\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    [\n      _c(\n        \"v-app-bar\",\n        [\n          _c(\n            \"v-toolbar-title\",\n            { staticClass: \"text-overline primary--text\" },\n            [_vm._v(\"\\n            Add New Enrollment Data\\n        \")]\n          ),\n          _vm._v(\" \"),\n          _c(\"v-spacer\"),\n          _vm._v(\" \"),\n          _c(\n            \"v-btn\",\n            {\n              attrs: {\n                dense: \"\",\n                iconx: \"\",\n                text: \"\",\n                color: \"primary\",\n                disabled:\n                  !_vm.selectedToAdd.length || _vm.selectedSection == null\n              },\n              on: { click: _vm.saveStudentEnrollment }\n            },\n            [_c(\"v-icon\", [_vm._v(\"mdi-floppy\")]), _vm._v(\" Save\\n        \")],\n            1\n          )\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-container\",\n        { staticClass: \"pt-6\" },\n        [\n          _c(\n            \"v-row\",\n            [\n              _c(\n                \"v-col\",\n                { attrs: { cols: \"12\" } },\n                [\n                  _c(\"v-select\", {\n                    attrs: {\n                      outlined: \"\",\n                      densex: \"\",\n                      filledx: \"\",\n                      label: \"Grade & Section\",\n                      items: _vm.sections,\n                      \"item-value\": \"id\",\n                      \"return-object\": \"\",\n                      hint:\n                        \"Only the sections with a class adviser are selectable\",\n                      \"persistent-hint\": \"\"\n                    },\n                    on: { input: _vm.onChangeGradeSection },\n                    scopedSlots: _vm._u([\n                      {\n                        key: \"item\",\n                        fn: function(data) {\n                          return [\n                            _vm._v(\n                              \"\\n                        \" +\n                                _vm._s(data.item.grade) +\n                                \" - \" +\n                                _vm._s(data.item.section) +\n                                \"\\n                    \"\n                            )\n                          ]\n                        }\n                      },\n                      {\n                        key: \"selection\",\n                        fn: function(data) {\n                          return [\n                            _vm._v(\n                              \"\\n                        \" +\n                                _vm._s(data.item.grade) +\n                                \" - \" +\n                                _vm._s(data.item.section) +\n                                \"\\n                    \"\n                            )\n                          ]\n                        }\n                      }\n                    ]),\n                    model: {\n                      value: _vm.selectedSection,\n                      callback: function($$v) {\n                        _vm.selectedSection = $$v\n                      },\n                      expression: \"selectedSection\"\n                    }\n                  })\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"v-col\",\n                { attrs: { cols: \"12\", md: \"9\" } },\n                [\n                  _c(\n                    \"v-card\",\n                    { key: _vm.level },\n                    [\n                      _c(\n                        \"v-toolbar\",\n                        { attrs: { elevation: \"0\" } },\n                        [\n                          _c(\"v-text-field\", {\n                            staticStyle: { \"max-width\": \"250px\" },\n                            attrs: {\n                              \"hide-details\": \"\",\n                              dense: \"\",\n                              flat: \"\",\n                              \"solo-inverted\": \"\",\n                              rounded: \"\",\n                              placeholder: \"Search student(s) here\"\n                            },\n                            model: {\n                              value: _vm.tblLeftSearch,\n                              callback: function($$v) {\n                                _vm.tblLeftSearch = $$v\n                              },\n                              expression: \"tblLeftSearch\"\n                            }\n                          })\n                        ],\n                        1\n                      ),\n                      _vm._v(\" \"),\n                      _c(\n                        \"v-card-text\",\n                        [\n                          _c(\"v-data-table\", {\n                            attrs: {\n                              headers: [\n                                { text: \"SID\", value: \"id\" },\n                                { text: \"First Name\", value: \"firstname\" },\n                                { text: \"Middle Name\", value: \"middlename\" },\n                                { text: \"Last Name\", value: \"lastname\" },\n                                { text: \"Ext. Name\", value: \"extname\" }\n                              ],\n                              items: _vm.students,\n                              search: _vm.tblLeftSearch,\n                              \"show-select\": \"\"\n                            },\n                            scopedSlots: _vm._u(\n                              [\n                                {\n                                  key: \"item.name\",\n                                  fn: function(ref) {\n                                    var item = ref.item\n                                    return [\n                                      _vm._v(\n                                        \"\\n                                \" +\n                                          _vm._s(item.firstname) +\n                                          \" \" +\n                                          _vm._s(item.middlename) +\n                                          \" \" +\n                                          _vm._s(item.lastname) +\n                                          \"\\n                            \"\n                                      )\n                                    ]\n                                  }\n                                }\n                              ],\n                              null,\n                              true\n                            ),\n                            model: {\n                              value: _vm.selectedToAdd,\n                              callback: function($$v) {\n                                _vm.selectedToAdd = $$v\n                              },\n                              expression: \"selectedToAdd\"\n                            }\n                          })\n                        ],\n                        1\n                      )\n                    ],\n                    1\n                  )\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"v-col\",\n                { attrs: { cols: \"12\", md: \"3\" } },\n                [\n                  _c(\n                    \"v-card\",\n                    { key: _vm.level },\n                    [\n                      _c(\n                        \"v-toolbar\",\n                        { attrs: { elevation: \"0\" } },\n                        [\n                          _c(\"v-toolbar-title\", [\n                            _vm._v(\n                              \"\\n                            Selected Students\\n                        \"\n                            )\n                          ]),\n                          _vm._v(\" \"),\n                          _c(\"v-spacer\")\n                        ],\n                        1\n                      ),\n                      _vm._v(\" \"),\n                      _c(\n                        \"v-card-text\",\n                        [\n                          _c(\"v-data-table\", {\n                            attrs: {\n                              headers: [\n                                { text: \"Student Name\", value: \"name\" }\n                              ],\n                              items: _vm.selectedToAdd,\n                              \"items-per-page\": -1,\n                              search: _vm.tblRightSearch,\n                              \"hide-default-footer\": \"\"\n                            },\n                            scopedSlots: _vm._u(\n                              [\n                                {\n                                  key: \"item.name\",\n                                  fn: function(ref) {\n                                    var item = ref.item\n                                    return [\n                                      _vm._v(\n                                        \"\\n                                \" +\n                                          _vm._s(item.firstname) +\n                                          \" \" +\n                                          _vm._s(item.middlename) +\n                                          \" \" +\n                                          _vm._s(item.lastname) +\n                                          \"\\n                            \"\n                                      )\n                                    ]\n                                  }\n                                }\n                              ],\n                              null,\n                              true\n                            )\n                          })\n                        ],\n                        1\n                      )\n                    ],\n                    1\n                  )\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\"v-col\", { attrs: { cols: \"12\", md: \"6\" } })\n            ],\n            1\n          )\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Add.vue?vue&type=template&id=2360cfdf&\"\nimport script from \"./Add.vue?vue&type=script&lang=js&\"\nexport * from \"./Add.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\KALOY\\\\DEV\\\\Kim\\\\CARRMS\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('2360cfdf')) {\n      api.createRecord('2360cfdf', component.options)\n    } else {\n      api.reload('2360cfdf', component.options)\n    }\n    module.hot.accept(\"./Add.vue?vue&type=template&id=2360cfdf&\", function () {\n      api.rerender('2360cfdf', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"resources/js/pages/Admin/Enrollment/Add.vue\"\nexport default component.exports","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=template&id=2360cfdf&\""],"sourceRoot":""}